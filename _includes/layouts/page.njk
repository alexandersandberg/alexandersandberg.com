---
layout: layouts/base.njk
bodyClass: page
eleventyComputed:
  title: "{{ title or pages[page.fileSlug].title }}"
  description: "{{ description or pages[page.fileSlug].description }}"
---

{% set isItem = itemNumber %}

<header>
	{% set backPage = pages[pages[page.fileSlug].back] %}
	{% if backPage %}
		<div>
			<a href="/{{ backPage.path }}">
				← {{ backPage.title }}
			</a>
		</div>
	{% endif %}

	<div class="spacer-l"></div>

	{% set pageNumber = pages[page.fileSlug].number %}
	{% if pageNumber | isNumber %}
		<p class="large-body mono background-secondary">Nº {{ pageNumber | pad(2) }}{{ "." + itemNumber if itemNumber else "" }}</p>
		<div class="spacer-xs"></div>
	{% endif %}

	{% if title %}
		<h1 class="{% if isItem %}large-title{% else %}huge-title{% endif %}">{{ title }}</h1>
	{% endif %}

	{% if description %}
		<div class="spacer-l"></div>
		<p>{{ description }}</p>
	{% endif %}

	{% set date = updatedDate or publishedDate %}
	{% if date %}
		<div class="spacer-l"></div>
		<p class="subhead foreground-tertiary">{{ "Updated" if updatedDate else "Published" }} in {{ date }}</p>
	{% endif %}
</header>

<div class="spacer-xl"></div>

<main{% if isItem %} class="post"{% endif %}>
	{{ content | safe }}
</main>